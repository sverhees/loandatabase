---
title: "Words for pepper in the East Caucasus"
output: html_document
---

```{r setup, include=FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

The maps below show the spread of different words for '(black) pepper' (*piper nigrum*) among languages spoken in the eastern part of the North Caucasus region, including East Caucasian / Nakh-Daghestanian languages and local varieties of Turkic. Most of the attested lexemes are borrowed (from Turkic to East Caucasian), and their distribution on the map reflects the areal influence of different L2s. The southern part of the area, for example, is dominated by Azerbaijani. In the north-central area, patterns of influence are more complicated: Avar is a major L2, but it has several words for 'pepper', which in turn were borrowed from other languages. Languages spoken in the same area could have borrowed these words from Avar, or from their original source (e.g. Kumyk or Nogai). In a few villages, the Russian word *perec* is commonly used.

```{r, echo = FALSE, include = TRUE, message = FALSE, warning = FALSE, fig.width=10}

setwd("~/Samira")

# packages

library(tidyverse)
library(lingtypology)
library(DT)

# data

pepper <- read_tsv("pepper.csv")

```

<br>

#### Total entries

```{r, echo = FALSE, include = TRUE, message = FALSE, warning = FALSE}

count <- pepper  %>%
  group_by(Type) %>%
  summarise(word = n())

colnames(count)[2] <- "n" 

total <- c("total", sum(count$n))

count <- rbind(count, total)

datatable(count, rownames = FALSE, width = 300, options = list(dom = 't'))

```

<br>

#### Data

The data are a combination of fieldwork, entries from the [IDS database](https://ids.clld.org/) and various dictionaries. Click on a dot to view:

* Language and genetic affiliation
* **Word:** form of the lexeme
* **Location:** coordinates of the datapoint and the associated location, which can be a certain village or a datapoint from the [Glottolog](https://glottolog.org/) database
* Type of resource used (e.g. a dictionary, or fieldwork)
* Reference to a specific source; in case of fieldwork, codenames are used.

Ideally, the table will be updated continuously with more precise information from specific villages. Full data is available [here](http://github.com/sverhees/loandatabase/tree/master/pepper). Contact jh.verhees@gmail.com for questions, comments, complaints or corrections.

---

#### Map 1. Distribution of *istiot* vs. other words

```{r, echo = FALSE, include = TRUE, message = FALSE, warning = FALSE, fig.width=10}




# map 1

map.feature(pepper$Language,
            features = pepper$`General type`,
            legend = FALSE,
            density.estimation = pepper$`General type`,
            density.estimation.color = "magma",
            density.legend.position = "topright",
            latitude = pepper$Lat,
            longitude = pepper$Lon,
            color = "magma",
            tile = c("Esri.WorldGrayCanvas"),
            zoom.control = TRUE,
            popup = paste(aff.lang(pepper$Language), # create pop-up showing language and genetic affiliation
                          "<br>",
                          "<b>Word: </b>",  
                          pepper$Word, # + the word for 'pepper'
                          "<br>",
                          "<b>Location: </b>", # + the location represented by the dot
                          "[",
                          lat.lang(pepper$Language), # + latitude
                          ",",
                          long.lang(pepper$Language), # + longitude
                          "]",
                          pepper$Village, # + village name or location name
                          "<br>",
                          pepper$`Resource type`, # + information source type
                          ":",
                          pepper$Reference)) # + specific information source


```

---

#### Map 2. Different words for 'pepper'

```{r, echo = FALSE, include = TRUE, message = FALSE, warning = FALSE, fig.width=10}


# remove Persian

pepper <- pepper[!pepper$Language == 'Western Farsi',]


# map 2

map.feature(pepper$Language,
            features = pepper$Type,
            latitude = pepper$Lat,
            longitude = pepper$Lon,
            color = "magma",
            zoom.control = TRUE,
            popup = paste(aff.lang(pepper$Language), # create pop-up showing language and genetic affiliation
                          "<br>",
                          "<b>Word: </b>",  
                          pepper$Word, # + the word for 'pepper'
                          "<br>",
                          "<b>Location: </b>", # + the location represented by the dot
                          "[",
                          lat.lang(pepper$Language), # + latitude
                          ",",
                          long.lang(pepper$Language), # + longitude
                          "]",
                          pepper$Village, # + village name or location name
                          "<br>",
                          pepper$`Resource type`, # + information source type
                          ":",
                          pepper$Reference)) # + specific information source

```

---

[Samira Verhees](https://github.com/sverhees). Version: `r Sys.Date()`.

---
